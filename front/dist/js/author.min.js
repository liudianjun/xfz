function Auth(){this.maskwapper=$(".mask-wrapper"),this.signinbtn=$(".submit-btn")}Auth.prototype.run=function(){this.listenShowHideEvent(),this.listenSigninBtn(),this.listenImageCaptcha(),this.listenSignupBtn()},Auth.prototype.showMask=function(){this.maskwapper.show()},Auth.prototype.hideMask=function(){this.maskwapper.hide()},Auth.prototype.listenShowHideEvent=function(){var n=this,t=$(".signin-btn"),e=$(".signup-btn"),i=$(".scroll-wrapper"),o=$(".close-btn"),s=$(".switch");t.click(function(){n.showMask(),i.css({left:0}),console.log("12121212")}),e.click(function(){n.showMask(),i.css({left:-400})}),o.click(function(){n.maskwapper.hide()}),s.click(function(){var n=$(".scroll-wrapper"),t=n.css("left");current=parseInt(t),current<0?n.animate({left:0}):n.animate({left:-400})})},Auth.prototype.listenImageCaptcha=function(){var n=$(".img-captcha");n.click(function(){n.attr("src","/account/img_captcha/?random="+Math.random())})},Auth.prototype.listenSigninBtn=function(){var o=this,n=$(".sign-in"),i=n.find("input[name='telephone']"),s=n.find("input[name='pwd']"),a=n.find("input[name='remember']");n.find(".submit-btn").click(function(){var n=i.val(),t=s.val(),e=a.prop("checked");xfzajax.post({url:"account/login/",data:{telephone:n,password:t,remember:e?0:1},success:function(n){if(200===n.code)o.hideMask(),window.location.reload();else{var t=n.message;if("string"==typeof t||t.constructor===String)window.messageBox.show(t);else for(var e in t){var i=t[e][0];window.messageBox.show(i)}}},fail:function(n){console.log(n)}})})},Auth.prototype.listenSignupBtn=function(){var s=this,n=$(".sign-up"),t=n.find(".submit-btn"),a=n.find("input[name='telephone']"),c=n.find("input[name='username']"),r=n.find("input[name='firstpwd']"),p=n.find("input[name='secpwd']"),u=n.find("input[name='img-captcha']");t.click(function(){event.preventDefault();var n=a.val(),t=c.val(),e=r.val(),i=p.val(),o=u.val();console.log(n,t,e,i,o),xfzajax.post({url:"/account/register/",data:{username:t,password1:e,password2:i,img_captcha:o,telephone:n},success:function(n){if(200===n.code)s.hideMask(),window.location.reload();else{var t=n.message;if("string"==typeof t||t.constructor===String)window.messageBox.show(t);else for(var e in t){var i=t[e][0];window.messageBox.show(i)}}},fail:function(){window.messageBox.showError(error)}})})},$(function(){(new Auth).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhvci5qcyJdLCJuYW1lcyI6WyJBdXRoIiwidGhpcyIsIm1hc2t3YXBwZXIiLCIkIiwic2lnbmluYnRuIiwicHJvdG90eXBlIiwicnVuIiwibGlzdGVuU2hvd0hpZGVFdmVudCIsImxpc3RlblNpZ25pbkJ0biIsImxpc3RlbkltYWdlQ2FwdGNoYSIsImxpc3RlblNpZ251cEJ0biIsInNob3dNYXNrIiwic2hvdyIsImhpZGVNYXNrIiwiaGlkZSIsInNlbGYiLCJzaWdudXBidG4iLCJzY3JvbGxfd3JhcHBlciIsImNsb3NlYnRuIiwic3dpdGNoYnRuIiwiY2xpY2siLCJjc3MiLCJsZWZ0IiwiY29uc29sZSIsImxvZyIsImN1cnJlbnRfcG9pbnQiLCJjdXJyZW50IiwicGFyc2VJbnQiLCJhbmltYXRlIiwiaW1nQ2FwdGNoYSIsImF0dHIiLCJNYXRoIiwicmFuZG9tIiwic2lnbmluZ3JvdXAiLCJwaG9uZU51bWJlciIsImZpbmQiLCJwYXNzd29yZCIsInJlbWVtYmVyIiwidGVsZXBob25lIiwidmFsIiwicHdkIiwiY2hlY2tib3giLCJwcm9wIiwieGZ6YWpheCIsInBvc3QiLCJ1cmwiLCJkYXRhIiwic3VjY2VzcyIsInJlc3VsdCIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVsb2FkIiwibWVzc2FnZW9iaiIsImNvbnN0cnVjdG9yIiwiU3RyaW5nIiwibWVzc2FnZUJveCIsImtleSIsIm1lc3NhZ2UiLCJmYWlsIiwiZXJyb3IiLCJzaWdudXBncm91cCIsInN1YmltdGJ0biIsInRlbGVwaG9uZWlucHV0IiwidXNlcm5hbWVpbnB1dCIsImZpcnN0cHdkaW5wdXQiLCJzZWNwd2RpbnB1dCIsImltZ2NhcHRjaGFpbnB1dCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJ1c2VybmFtZSIsImZpcnN0cHdkIiwic2VjcHdkIiwiaW1nY2FwdGNoYSIsInBhc3N3b3JkMSIsInBhc3N3b3JkMiIsImltZ19jYXB0Y2hhIiwic2hvd0Vycm9yIl0sIm1hcHBpbmdzIjoiQUFB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VUMsRUFBVUMsRUFBUUMsR0FFbkQ3QixRQUFRQyxLQUFLLENBQ1RDLElBQU0scUJBQ05DLEtBQU8sQ0FDSHVCLFNBQVdBLEVBQ1hJLFVBQVlILEVBQ1pJLFVBQVlILEVBQ1pJLFlBQWNILEVBQ2RsQyxVQUFZQSxHQUVoQlMsUUFBVSxTQUFVQyxHQUNoQixHQUFxQixNQUFsQkEsRUFBYSxLQUNaakMsRUFBS0YsV0FDTG9DLE9BQU9DLFNBQVNDLGFBQ2QsQ0FDRixJQUFJQyxFQUFhSixFQUFnQixRQUNqQyxHQUF5QixpQkFBZkksR0FBMkJBLEVBQVdDLGNBQzVDQyxPQUNBTCxPQUFPTSxXQUFXM0MsS0FBS3dDLFFBR3ZCLElBQUksSUFBSUksS0FBT0osRUFBVyxDQUN0QixJQUNJSyxFQURXTCxFQUFXSSxHQUNILEdBQ3ZCUCxPQUFPTSxXQUFXM0MsS0FBSzZDLE1BTXZDQyxLQUFPLFdBQ0hULE9BQU9NLFdBQVdxQixVQUFVakIsYUFVNUN4RCxFQUFFLFlBRWEsSUFBSUgsTUFDVk0iLCJmaWxlIjoiYXV0aG9yLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gQXV0aCgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5tYXNrd2FwcGVyID0gJCgnLm1hc2std3JhcHBlcicpO1xuICAgIHNlbGYuc2lnbmluYnRuID0gJCgnLnN1Ym1pdC1idG4nKTtcblxuXG59XG5cbkF1dGgucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmxpc3RlblNob3dIaWRlRXZlbnQoKTtcbiAgICB0aGlzLmxpc3RlblNpZ25pbkJ0bigpO1xuICAgIHRoaXMubGlzdGVuSW1hZ2VDYXB0Y2hhKCk7XG4gICAgdGhpcy5saXN0ZW5TaWdudXBCdG4oKTtcblxuXG4gICAgLy8gdGhpcy5saXN0ZW5TaWduaW5FdmVudCgpO1xuXG59O1xuXG5BdXRoLnByb3RvdHlwZS5zaG93TWFzayA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHNlbGYubWFza3dhcHBlci5zaG93KCk7XG59O1xuXG5BdXRoLnByb3RvdHlwZS5oaWRlTWFzayA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHNlbGYubWFza3dhcHBlci5oaWRlKCk7XG59O1xuXG5BdXRoLnByb3RvdHlwZS5saXN0ZW5TaG93SGlkZUV2ZW50ID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIHNpZ25pbmJ0biA9ICQoXCIuc2lnbmluLWJ0blwiKTtcbiAgICB2YXIgc2lnbnVwYnRuID0gJCgnLnNpZ251cC1idG4nKTtcbiAgICB2YXIgc2Nyb2xsX3dyYXBwZXIgPSAkKFwiLnNjcm9sbC13cmFwcGVyXCIpO1xuICAgIHZhciBjbG9zZWJ0biA9ICQoXCIuY2xvc2UtYnRuXCIpO1xuICAgIHZhciBzd2l0Y2hidG4gPSAkKFwiLnN3aXRjaFwiKTtcbiAgICAvLyAkKFwiLmJ0blwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgLy8gICAgICQoXCIubWFzay13cmFwcGVyXCIpLnNob3coKTtcbiAgICAvLyB9KTtcbiAgICBzaWduaW5idG4uY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLnNob3dNYXNrKCk7XG4gICAgICAgIHNjcm9sbF93cmFwcGVyLmNzcyh7XCJsZWZ0XCI6MH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhcIjEyMTIxMjEyXCIpO1xuICAgIH0pO1xuXG4gICAgc2lnbnVwYnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5zaG93TWFzaygpO1xuICAgICAgICBzY3JvbGxfd3JhcHBlci5jc3Moe1wibGVmdFwiOi00MDB9KTtcbiAgICB9KTtcblxuICAgIGNsb3NlYnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5tYXNrd2FwcGVyLmhpZGUoKTtcbiAgICB9KTtcblxuICAgIHN3aXRjaGJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzY3JvbGxfd3JhcHBlciA9ICQoXCIuc2Nyb2xsLXdyYXBwZXJcIik7XG4gICAgICAgIHZhciBjdXJyZW50X3BvaW50ID0gc2Nyb2xsX3dyYXBwZXIuY3NzKFwibGVmdFwiKTtcbiAgICAgICAgY3VycmVudCA9IHBhcnNlSW50KGN1cnJlbnRfcG9pbnQpO1xuICAgICAgICBpZihjdXJyZW50IDwgMCl7XG4gICAgICAgICAgICBzY3JvbGxfd3JhcHBlci5hbmltYXRlKHtcImxlZnRcIjowfSk7XG4gICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgIHNjcm9sbF93cmFwcGVyLmFuaW1hdGUoe1wibGVmdFwiOi00MDB9KTtcbiAgICAgICAgfVxuICAgIH0pXG5cbn07XG5cbkF1dGgucHJvdG90eXBlLmxpc3RlbkltYWdlQ2FwdGNoYSA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBpbWdDYXB0Y2hhID0gJCgnLmltZy1jYXB0Y2hhJyk7XG4gICAgaW1nQ2FwdGNoYS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGltZ0NhcHRjaGEuYXR0cihcInNyY1wiLCBcIi9hY2NvdW50L2ltZ19jYXB0Y2hhL1wiK1wiP3JhbmRvbT1cIitNYXRoLnJhbmRvbSgpKTtcbiAgICB9KTtcbn07XG5cbkF1dGgucHJvdG90eXBlLmxpc3RlblNpZ25pbkJ0biA9IGZ1bmN0aW9uKCl7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIHNpZ25pbmdyb3VwID0gJCgnLnNpZ24taW4nKTtcblxuICAgIHZhciBwaG9uZU51bWJlciA9IHNpZ25pbmdyb3VwLmZpbmQoXCJpbnB1dFtuYW1lPSd0ZWxlcGhvbmUnXVwiKTtcbiAgICB2YXIgcGFzc3dvcmQgPSBzaWduaW5ncm91cC5maW5kKFwiaW5wdXRbbmFtZT0ncHdkJ11cIik7XG4gICAgdmFyIHJlbWVtYmVyID0gc2lnbmluZ3JvdXAuZmluZChcImlucHV0W25hbWU9J3JlbWVtYmVyJ11cIik7XG4gICAgdmFyIHNpZ25pbmJ0biA9IHNpZ25pbmdyb3VwLmZpbmQoJy5zdWJtaXQtYnRuJyk7XG4gICAgc2lnbmluYnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCIxMjEyMTIxMjEyMTIxMlwiKTtcbiAgICAgICAgdmFyIHRlbGVwaG9uZSA9IHBob25lTnVtYmVyLnZhbCgpO1xuICAgICAgICB2YXIgcHdkID0gcGFzc3dvcmQudmFsKCk7XG4gICAgICAgIHZhciBjaGVja2JveCA9IHJlbWVtYmVyLnByb3AoXCJjaGVja2VkXCIpO1xuXG4gICAgICAgIHhmemFqYXgucG9zdCh7XG4gICAgICAgICAgICAndXJsJzonYWNjb3VudC9sb2dpbi8nLFxuICAgICAgICAgICAgJ2RhdGEnOntcbiAgICAgICAgICAgICAgICAndGVsZXBob25lJzp0ZWxlcGhvbmUsXG4gICAgICAgICAgICAgICAgJ3Bhc3N3b3JkJzpwd2QsXG4gICAgICAgICAgICAgICAgJ3JlbWVtYmVyJzpjaGVja2JveD8wOjFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnc3VjY2Vzcyc6ZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiPT09PT09PT09PT09PVwiKTtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgICAgICAgICAgICAgIGlmKHJlc3VsdFsnY29kZSddID09PSAyMDApe1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmhpZGVNYXNrKCk7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlb2JqID0gcmVzdWx0WydtZXNzYWdlJ107XG4gICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBtZXNzYWdlb2JqID09PSAnc3RyaW5nJyB8fCBtZXNzYWdlb2JqLmNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgICAgID09PSBTdHJpbmcpe1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvdyhtZXNzYWdlb2JqKTtcblxuICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGtleSBpbiBtZXNzYWdlb2JqKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZXMgPSBtZXNzYWdlb2JqW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBtZXNzYWdlc1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93KG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ2ZhaWwnOmZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgfSk7XG59O1xuXG5BdXRoLnByb3RvdHlwZS5saXN0ZW5TaWdudXBCdG4gPSBmdW5jdGlvbigpe1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgc2lnbnVwZ3JvdXAgPSAkKCcuc2lnbi11cCcpO1xuICAgIHZhciBzdWJpbXRidG4gPSBzaWdudXBncm91cC5maW5kKCcuc3VibWl0LWJ0bicpO1xuICAgIHZhciB0ZWxlcGhvbmVpbnB1dCA9IHNpZ251cGdyb3VwLmZpbmQoXCJpbnB1dFtuYW1lPSd0ZWxlcGhvbmUnXVwiKTtcbiAgICB2YXIgdXNlcm5hbWVpbnB1dCA9IHNpZ251cGdyb3VwLmZpbmQoXCJpbnB1dFtuYW1lPSd1c2VybmFtZSddXCIpO1xuICAgIHZhciBmaXJzdHB3ZGlucHV0ID0gc2lnbnVwZ3JvdXAuZmluZChcImlucHV0W25hbWU9J2ZpcnN0cHdkJ11cIik7XG4gICAgdmFyIHNlY3B3ZGlucHV0ID0gc2lnbnVwZ3JvdXAuZmluZChcImlucHV0W25hbWU9J3NlY3B3ZCddXCIpO1xuICAgIHZhciBpbWdjYXB0Y2hhaW5wdXQgPSBzaWdudXBncm91cC5maW5kKFwiaW5wdXRbbmFtZT0naW1nLWNhcHRjaGEnXVwiKTtcbiAgICBzdWJpbXRidG4uY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIHZhciB0ZWxlcGhvbmUgPSB0ZWxlcGhvbmVpbnB1dC52YWwoKTtcbiAgICAgICAgdmFyIHVzZXJuYW1lID0gdXNlcm5hbWVpbnB1dC52YWwoKTtcbiAgICAgICAgdmFyIGZpcnN0cHdkID0gZmlyc3Rwd2RpbnB1dC52YWwoKTtcbiAgICAgICAgdmFyIHNlY3B3ZCA9IHNlY3B3ZGlucHV0LnZhbCgpO1xuICAgICAgICB2YXIgaW1nY2FwdGNoYSA9IGltZ2NhcHRjaGFpbnB1dC52YWwoKTtcbiAgICAgICAgY29uc29sZS5sb2codGVsZXBob25lLCB1c2VybmFtZSwgZmlyc3Rwd2QsIHNlY3B3ZCwgaW1nY2FwdGNoYSk7XG5cbiAgICAgICAgeGZ6YWpheC5wb3N0KHtcbiAgICAgICAgICAgICd1cmwnOicvYWNjb3VudC9yZWdpc3Rlci8nLFxuICAgICAgICAgICAgJ2RhdGEnOntcbiAgICAgICAgICAgICAgICAndXNlcm5hbWUnOnVzZXJuYW1lLFxuICAgICAgICAgICAgICAgICdwYXNzd29yZDEnOmZpcnN0cHdkLFxuICAgICAgICAgICAgICAgICdwYXNzd29yZDInOnNlY3B3ZCxcbiAgICAgICAgICAgICAgICAnaW1nX2NhcHRjaGEnOmltZ2NhcHRjaGEsXG4gICAgICAgICAgICAgICAgJ3RlbGVwaG9uZSc6dGVsZXBob25lXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOmZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0yMDApe1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmhpZGVNYXNrKCk7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlb2JqID0gcmVzdWx0WydtZXNzYWdlJ107XG4gICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBtZXNzYWdlb2JqID09PSAnc3RyaW5nJyB8fCBtZXNzYWdlb2JqLmNvbnN0cnVjdG9yXG4gICAgICAgICAgICAgICAgICAgID09PSBTdHJpbmcpe1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvdyhtZXNzYWdlb2JqKTtcblxuICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGtleSBpbiBtZXNzYWdlb2JqKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZXMgPSBtZXNzYWdlb2JqW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBtZXNzYWdlc1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93KG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ2ZhaWwnOmZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93RXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcblxuXG5cbn07XG5cblxuJChmdW5jdGlvbiAoKSB7XG4gICAgLy8gdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBhdXRoID0gbmV3IEF1dGgoKTtcbiAgICBhdXRoLnJ1bigpO1xufSk7Il19
